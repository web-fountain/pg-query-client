.message-list {
  display: block; /* Virtuoso positions items; avoid flex/gap here */
  padding-bottom: var(--space-6); /* ensure last item has breathing room above sticky composer */
}

/* Virtuoso root to fill container height and avoid double scroll */
.virtuoso {
  height: 100%;
  overflow-x: hidden;
}

.message { display: block; margin-bottom: var(--space-5); }

@media (prefers-reduced-motion: reduce) {
  .send > svg { transition: none; }
}

.user-bubble {
  padding: var(--space-2);
  border: var(--border-1) solid var(--border-tertiary);
  border-radius: var(--radius-8);
  background: var(--surface-2);
  white-space: pre-wrap;
  overflow-wrap: anywhere; /* wrap long unbroken strings */
  word-break: break-word;
  max-height: none;
  contain: content; /* isolate layout/paint for smoother scroll */
}

.user-bubble[data-collapsed] {
  cursor: pointer;
  max-height: var(--space-22);
  overflow: hidden;
}

.assistant { display: grid; gap: var(--space-2); }
.assistant-meta {
  color: var(--text-secondary);
  font-size: var(--text-xs);
}
.assistant-plain {
  color: var(--text-primary);
  white-space: pre-wrap;
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* Plain text renderer for collapsed user messages */
.user-plain {
  color: var(--text-primary);
  white-space: pre-wrap;
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* Spacer footer rendered by Virtuoso to prevent cutoff at the bottom */
.list-footer { height: var(--space-4); }

/* media/container queries at the bottom (reserved) */
